// Variabili Colore
$cri-red: #CC0000;
$cri-red-dark: darken($cri-red, 10%);
$text-color: #333;
$border-color: #ddd;
$background-light: #f9f9f9;
$success-color: #28a745; // Verde per 'Gratuito'

// Stili applicati solo all'interno del nostro widget o pagina singola
.elementor-widget-cri-corsi-griglia,
.cri-corso-single-page { // Aggiunta classe per la pagina singola

  // Griglia dei Corsi (Widget)
  .cri-corsi-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
  }

  // Card Singolo Corso (Widget)
  .cri-corso-card {
    border: 1px solid $border-color;
    border-radius: 8px;
    overflow: hidden;
    background-color: #fff;
    display: flex;
    flex-direction: column;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.3s ease;

    &:hover {
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
    }
  }

  .cri-corso-image {
    img {
      display: block;
      width: 100%;
      height: 200px; // Altezza fissa per l'immagine nella card
      object-fit: cover; // Copre l'area senza distorcere
    }
  }

  .cri-corso-content {
    padding: 15px;
    flex-grow: 1; // Fa espandere il contenuto per riempire lo spazio
    display: flex;
    flex-direction: column;
  }

  .cri-corso-title {
    font-size: 1.4em;
    margin-top: 0;
    margin-bottom: 10px;
    color: $text-color;
    // Stile tipografia verrà controllato da Elementor
  }

  .cri-corso-prezzo {
    font-size: 1.1em;
    font-weight: bold;
    margin-bottom: 15px;
    color: $cri-red; // Prezzo normale in rosso

    &.gratuito { // Stile specifico per gratuito
      color: $success-color;
    }
  }

  .cri-corso-desc {
    font-size: 0.95em;
    color: #555;
    margin-bottom: 15px;
    flex-grow: 1; // Spinge il form in basso
  }

  // Mappa (Sia widget che singolo)
  .cri-corso-map {
    width: 100%;
    min-height: 250px; // Altezza minima per la mappa nella card
    height: 250px;
    margin-bottom: 15px;
    border: 1px solid $border-color;
    border-radius: 4px;
    z-index: 0; // Per evitare conflitti con altri elementi
  }

  // Stili del Form di Prenotazione (Widget)
  .cri-corso-booking-form {
    margin-top: auto; // Spinge il form in fondo alla card
    padding-top: 15px;
    border-top: 1px solid $border-color;
  }

  .cri-form-group {
    margin-bottom: 10px;

    label {
      display: block;
      margin-bottom: 4px;
      font-weight: bold;
      font-size: 0.9em;
      color: #444;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    select {
      width: 100%;
      padding: 8px;
      border: 1px solid $border-color;
      border-radius: 4px;
      box-sizing: border-box; // Include padding e border nella larghezza totale
    }

    select {
      // Stile per far sembrare il select simile agli input
      appearance: none; // Rimuove stile nativo
      background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');
      background-repeat: no-repeat;
      background-position: right 8px top 50%;
      background-size: 10px auto;
      padding-right: 30px; // Spazio per la freccia
    }

    option[disabled] {
      color: #aaa;
      font-style: italic;
    }
  }

  .cri-form-submit {
    margin-top: 15px;
  }

  .cri-corso-button {
    display: inline-block;
    padding: 10px 20px;
    background-color: $cri-red;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1em;
    text-align: center;
    text-decoration: none;
    transition: background-color 0.3s ease;

    &:hover, &:focus {
      background-color: $cri-red-dark;
      color: #fff;
    }
  }


  /* Stili Specifici per la Pagina Singola del Corso */
  .cri-corso-single-page { // Contenitore principale della pagina
    // Qui puoi aggiungere padding, max-width se necessario,
    // ma spesso è gestito dal tema o da Elementor.

    .cri-corso-single-image {
      margin-bottom: 20px;
      img {
        border-radius: 5px; // Border radius richiesto
        display: block;
        max-width: 100%;
        height: auto; // Altezza automatica per mantenere proporzioni
      }
    }

    .cri-corso-single-meta {
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid $border-color;
      font-size: 1.1em;
      color: #555;

      span {
        margin-right: 20px; // Spazio tra destinazione e prezzo
      }
      strong {
        color: $text-color; // Rende le etichette più scure
      }

      .cri-corso-prezzo.gratuito {
        color: $success-color;
        font-weight: bold;
      }
    }

    // Stili per le Tab
    .cri-corso-tabs {
      margin-top: 30px;
      margin-bottom: 30px;
      border: 1px solid $border-color;
      border-radius: 4px;

      .cri-tabs-nav {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
        background-color: $background-light;
        border-bottom: 1px solid $border-color;

        li {
          margin: 0;
          padding: 0;

          a {
            display: block;
            padding: 10px 15px;
            text-decoration: none;
            color: #555;
            border-right: 1px solid $border-color;
            font-weight: bold;

            &.active {
              background-color: #fff;
              color: $text-color;
              border-bottom: 1px solid #fff; // Copre il bordo inferiore
              margin-bottom: -1px; // Allinea con il contenuto
            }
            &:hover:not(.active) {
              background-color: darken($background-light, 5%);
            }
          }

          &:last-child a {
            border-right: none;
          }
        }
      }

      .cri-tabs-content {
        padding: 20px;
        background-color: #fff;

        .cri-tab-pane {
          display: none; // Nascosto di default
          &.active {
            display: block; // Mostra solo quello attivo
          }
        }
      }
    }

    // Stili per la Mappa nella Pagina Singola
    .cri-corso-single-map-container {
      margin-top: 30px;

      h2 {
        margin-bottom: 15px;
        font-size: 1.5em;
      }

      // **IMPORTANTE**: Assicura che la mappa abbia un'altezza definita
      .cri-corso-map {
        min-height: 350px !important; // Aggiunto !important
        height: 350px !important;     // Aggiunto !important
        // Le altre proprietà (width, border, radius) sono ereditate dalla regola generica
      }
    }
  }
} // Fine blocco .elementor-widget-cri-corsi-griglia, .cri-corso-single-page

